<<<<<<< Updated upstream
2024-11-06 18:42:16,943 - main - ERROR - Error without request: GET http://localhost:8080/plans
Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/mysql/connector/connection_cext.py", line 327, in _open_connection
    self._cmysql.connect(**cnx_kwargs)
_mysql_connector.MySQLInterfaceError: Access denied for user 'root'@'localhost' (using password: NO)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/routes.py", line 32, in transcribes
    return PlanController().get_plans()
  File "/home/luizfgdo/Projects/video-transcribe-backend/src/controllers/PlanController.py", line 11, in __init__
    self.mysql = MysqlService()
  File "/home/luizfgdo/Projects/video-transcribe-backend/src/services/MysqlService.py", line 18, in __init__
    self.initialize_conn()
  File "/home/luizfgdo/Projects/video-transcribe-backend/src/services/MysqlService.py", line 21, in initialize_conn
    self.conn = mysql.connector.connect(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/mysql/connector/pooling.py", line 322, in connect
    return CMySQLConnection(*args, **kwargs)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/mysql/connector/connection_cext.py", line 144, in __init__
    self.connect(**kwargs)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/mysql/connector/abstracts.py", line 1360, in connect
    self._open_connection()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/mysql/connector/connection_cext.py", line 332, in _open_connection
    raise get_mysql_exception(
mysql.connector.errors.ProgrammingError: 1045 (28000): Access denied for user 'root'@'localhost' (using password: NO)
2024-11-06 23:47:14,880 - main - ERROR - Error without request: POST http://127.0.0.1:8080/user/update-plan
Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
=======
2024-11-14 12:29:00,316 - main - ERROR - Error without request: POST http://127.0.0.1:8000/summary/generate
Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
>>>>>>> Stashed changes
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
<<<<<<< Updated upstream
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
=======
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
>>>>>>> Stashed changes
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
<<<<<<< Updated upstream
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 126, in receive
=======
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
>>>>>>> Stashed changes
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
<<<<<<< Updated upstream
  File "/home/luizfgdo/Projects/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/routes.py", line 69, in update_plan
    return UserController(params, None).update_plan(user_id, plan_id)
NameError: name 'user_id' is not defined
2024-11-06 23:49:09,967 - main - ERROR - Error without request: POST http://localhost:8080/user/update-plan
Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
=======
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/routes.py", line 55, in generate_summary
    return SummaryController(params).generate_summary()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: SummaryController.__init__() missing 1 required positional argument: 'user'
2024-11-14 12:29:03,384 - main - ERROR - Error without request: POST http://127.0.0.1:8000/summary/generate
Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
>>>>>>> Stashed changes
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
<<<<<<< Updated upstream
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
=======
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
>>>>>>> Stashed changes
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
<<<<<<< Updated upstream
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 126, in receive
=======
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
>>>>>>> Stashed changes
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
<<<<<<< Updated upstream
  File "/home/luizfgdo/Projects/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/routes.py", line 69, in update_plan
    return UserController(params, None).update_plan(user_id, plan_id)
NameError: name 'user_id' is not defined
2024-11-06 23:49:27,670 - main - ERROR - Error without request: POST http://localhost:8080/user/update-plan
Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/routes.py", line 69, in update_plan
    return UserController(None, None).update_plan(user_id, plan_id)
NameError: name 'user_id' is not defined
2024-11-06 23:50:06,524 - main - ERROR - Error without request: POST http://localhost:8080/user/update-plan
Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/routes.py", line 69, in update_plan
    return UserController(None, None).update_plan(user_id, plan_id)
NameError: name 'user_id' is not defined
2024-11-06 23:51:39,604 - main - ERROR - Error without request: POST http://localhost:8080/user/update-plan
Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/routes.py", line 70, in update_plan
    return UserController(None, None).update_plan(user_id, plan_id)
NameError: name 'user_id' is not defined
2024-11-06 23:54:54,107 - main - ERROR - Error without request: POST http://localhost:8080/user/update-plan
Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/routes.py", line 74, in update_plan
    return UserController(None, None).update_plan(user_id, plan_id)
NameError: name 'user_id' is not defined
2024-11-06 23:56:49,681 - main - ERROR - Error without request: POST http://localhost:8080/user/update-plan
Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/routes.py", line 74, in update_plan
    return UserController(None, None).update_plan(user_id, plan_id)
NameError: name 'user_id' is not defined
2024-11-06 23:57:09,539 - main - ERROR - Error without request: POST http://localhost:8080/user/update-plan
Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/routes.py", line 74, in update_plan
    return UserController(None, None).update_plan(user_id, plan_id)
NameError: name 'user_id' is not defined
2024-11-06 23:58:45,437 - main - ERROR - Error without request: POST http://localhost:8080/user/update-plan
Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/routes.py", line 74, in update_plan
    return UserController(None, None).update_plan(user_id, plan_id)
NameError: name 'user_id' is not defined
2024-11-07 00:02:24,869 - main - ERROR - Error without request: POST http://localhost:8080/user/update-plan
Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/routes.py", line 74, in update_plan
    return UserController(None, None).update_plan(user_id, plan_id)
NameError: name 'user_id' is not defined
2024-11-07 00:02:41,173 - main - ERROR - Error without request: POST http://localhost:8080/user/update-plan
Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/routes.py", line 74, in update_plan
    return UserController(None, None).update_plan(user_id, plan_id)
NameError: name 'user_id' is not defined
2024-11-07 00:05:02,029 - main - ERROR - Error without request: POST http://localhost:8080/user/update-plan
Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/routes.py", line 74, in update_plan
    return UserController(params, None).update_plan(user_id, plan_id)
NameError: name 'user_id' is not defined
2024-11-07 00:06:26,571 - main - ERROR - Error without request: POST http://localhost:8080/user/update-plan
Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/routes.py", line 74, in update_plan
    return UserController(params, None).update_plan(user_id, plan_id)
NameError: name 'user_id' is not defined
2024-11-07 00:08:38,378 - main - ERROR - Error without request: POST http://localhost:8080/user/update-plan
Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/routes.py", line 74, in update_plan
    return UserController(params, None).update_plan(user_id, plan_id)
NameError: name 'user_id' is not defined
2024-11-07 00:09:03,982 - main - ERROR - Error without request: POST http://localhost:8080/user/update-plan
Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/routes.py", line 74, in update_plan
    return UserController(params, None).update_plan(user_id, plan_id)
NameError: name 'user_id' is not defined
2024-11-07 00:10:01,391 - main - ERROR - Error without request: POST http://localhost:8080/user/update-plan
Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/routes.py", line 74, in update_plan
    return UserController(params, None).update_plan(user_id, plan_id)
NameError: name 'user_id' is not defined
2024-11-07 00:55:01,661 - main - ERROR - Error without request: GET http://localhost:8080/user/update-plan/11
Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/routes.py", line 74, in get_update_plan
    return UserController(None, None).get_user_plan_data(user_id)
NameError: name 'user_id' is not defined
2024-11-10 16:51:17,793 - main - ERROR - Error without request: GET http://127.0.0.1:8080/plans
Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/mysql/connector/connection_cext.py", line 327, in _open_connection
    self._cmysql.connect(**cnx_kwargs)
_mysql_connector.MySQLInterfaceError: Can't connect to MySQL server on 'localhost:3306' (111)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/luizfgdo/Projects/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
  File "/home/luizfgdo/Projects/video-transcribe-backend/routes.py", line 38, in transcribes
    return PlanController().get_plans()
  File "/home/luizfgdo/Projects/video-transcribe-backend/src/controllers/PlanController.py", line 11, in __init__
    self.mysql = MysqlService()
  File "/home/luizfgdo/Projects/video-transcribe-backend/src/services/MysqlService.py", line 18, in __init__
    self.initialize_conn()
  File "/home/luizfgdo/Projects/video-transcribe-backend/src/services/MysqlService.py", line 21, in initialize_conn
    self.conn = mysql.connector.connect(
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/mysql/connector/pooling.py", line 322, in connect
    return CMySQLConnection(*args, **kwargs)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/mysql/connector/connection_cext.py", line 144, in __init__
    self.connect(**kwargs)
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/mysql/connector/abstracts.py", line 1360, in connect
    self._open_connection()
  File "/home/luizfgdo/Projects/video-transcribe-backend/.venv/lib/python3.10/site-packages/mysql/connector/connection_cext.py", line 332, in _open_connection
    raise get_mysql_exception(
mysql.connector.errors.DatabaseError: 2003 (HY000): Can't connect to MySQL server on 'localhost:3306' (111)
=======
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/routes.py", line 55, in generate_summary
    return SummaryController(params).generate_summary()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: SummaryController.__init__() missing 1 required positional argument: 'user'
2024-11-14 12:29:15,316 - main - ERROR - Error without request: POST http://127.0.0.1:8000/summary/generate
Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/routes.py", line 55, in generate_summary
    return SummaryController(params).generate_summary()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: SummaryController.__init__() missing 1 required positional argument: 'user'
2024-11-14 12:29:25,358 - main - ERROR - Error without request: POST http://127.0.0.1:8000/summary/generate
Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/routes.py", line 55, in generate_summary
    return SummaryController(params).generate_summary()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: SummaryController.__init__() missing 1 required positional argument: 'user'
2024-11-14 12:30:46,775 - main - ERROR - Error without request: POST http://127.0.0.1:8000/summary/generate
Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/routes.py", line 55, in generate_summary
    return SummaryController(params).generate_summary()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: SummaryController.__init__() missing 1 required positional argument: 'user'
2024-11-14 14:13:20,182 - main - ERROR - Error without request: GET http://127.0.0.1:8000/transcribe/vtt/1
Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/routes.py", line 39, in generate_vtt
    return VttController().generate_vtt(id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/src/controllers/VttController.py", line 13, in generate_vtt
    vtt = VTTService()
          ^^^^^^^^^^^^
TypeError: VTTService.__init__() missing 1 required positional argument: 'language'
2024-11-14 14:13:54,187 - main - ERROR - Error without request: GET http://127.0.0.1:8000/transcribe/vtt/1
Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 159, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/main.py", line 35, in log_exceptions
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2441, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 943, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/routes.py", line 39, in generate_vtt
    return VttController().generate_vtt(id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/src/controllers/VttController.py", line 16, in generate_vtt
    vtt = vtt.generate_vtt(segments, './tmp/teste.vtt')
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jvcordeiro/my-projects/trabalho_mateus/video-transcribe-backend/src/services/VTTService.py", line 30, in generate_vtt
    text = segment['content']
           ~~~~~~~^^^^^^^^^^^
TypeError: string indices must be integers, not 'str'
>>>>>>> Stashed changes
